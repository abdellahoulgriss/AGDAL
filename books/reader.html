<!DOCTYPE html><html lang="ar" dir="rtl"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <meta name="robots" content="noindex">    <title>قارئ الكتب - مكتبة الأطفال</title>    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">    <link rel="stylesheet" href="../css/main.css">    <style>        body {            background-color: #f0f2f5;            margin: 0;            padding: 0;            display: flex;            flex-direction: column;            height: 100vh;            overflow: hidden;            font-family: 'Tajawal', sans-serif;        }        .reader-header {            background: white;            padding: 15px 20px;            display: flex;            align-items: center;            justify-content: space-between;            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);            z-index: 100;            height: 70px;            box-sizing: border-box;        }        .header-title-container {            flex: 1;            text-align: center;            overflow: hidden;        }        .book-title {            font-size: 1.2rem;            color: var(--text-color, #333);            margin: 0;            white-space: nowrap;            overflow: hidden;            text-overflow: ellipsis;            font-weight: 700;        }        .back-btn {            background: #f0f2f5;            color: #333;            text-decoration: none;            padding: 10px 15px;            border-radius: 50px;            display: flex;            align-items: center;            gap: 8px;            font-weight: bold;            transition: all 0.3s ease;            font-size: 0.9rem;            border: 2px solid transparent;        }        .back-btn:hover {            background: #e4e6ea;            transform: translateX(5px);        }        .download-btn {            background: var(--primary-color, #6c63ff);            color: white;            text-decoration: none;            padding: 10px 15px;            border-radius: 50px;            display: flex;            align-items: center;            gap: 8px;            font-weight: bold;            transition: all 0.3s ease;            font-size: 0.9rem;        }        .download-btn:hover {            background: var(--primary-dark, #5a52d5);            transform: scale(1.05);        }        .reader-container {            flex: 1;            width: 100%;            height: calc(100vh - 70px);            background: #525659;            display: flex;            justify-content: center;            align-items: center;            position: relative;        }        iframe {            width: 100%;            height: 100%;            border: none;            display: block;        }        .loading-spinner {            position: absolute;            top: 50%;            left: 50%;            transform: translate(-50%, -50%);            color: white;            font-size: 2rem;            display: none;        }        .reader-error {            color: white;            text-align: center;            display: none;        }        .reader-error i {            font-size: 3rem;            margin-bottom: 15px;            color: #ff6b6b;        }        @media (max-width: 768px) {            .reader-header {                padding: 10px;                height: 60px;            }            .back-btn span,            .download-btn span {                display: none;            }            .back-btn,            .download-btn {                padding: 10px;                width: 40px;                height: 40px;                justify-content: center;            }            .book-title {                font-size: 1rem;                padding: 0 10px;            }        }    </style></head><body>    <header class="reader-header">        <a href="library.html" class="back-btn" title="الرجوع إلى المكتبة">            <i class="fas fa-arrow-right"></i>            <span>المكتبة</span>        </a>        <div class="header-title-container">            <h1 class="book-title" id="bookTitle">جاري تحميل الكتاب...</h1>        </div>        <a href="#" id="downloadLink" class="download-btn" title="تحميل الكتاب" download>            <i class="fas fa-download"></i>            <span>تحميل</span>        </a>    </header>    <main class="reader-container">        <div class="loading-spinner" id="loader">            <i class="fas fa-spinner fa-spin"></i>        </div>        <div class="reader-error" id="errorMsg">            <i class="fas fa-exclamation-triangle"></i>            <p>عذراً، لم نتمكن من تحميل الكتاب.</p>            <a href="library.html" class="back-btn" style="margin: 20px auto; width: fit-content;">العودة</a>        </div>        <iframe id="pdfViewer" src="" allowfullscreen></iframe>    </main>    <script>        document.addEventListener('DOMContentLoaded', () => {            const urlParams = new URLSearchParams(window.location.search);            const bookFile = urlParams.get('file');            const bookTitle = urlParams.get('title');            const viewer = document.getElementById('pdfViewer');            const titleEl = document.getElementById('bookTitle');            const downloadBtn = document.getElementById('downloadLink');            const loader = document.getElementById('loader');            const errorMsg = document.getElementById('errorMsg');            if (!bookFile) {                viewer.style.display = 'none';                errorMsg.style.display = 'block';                titleEl.textContent = 'خطأ';                return;            }            if (bookTitle) {                titleEl.textContent = decodeURIComponent(bookTitle);                document.title = `${decodeURIComponent(bookTitle)} - قارئ المكتبة`;            } else {                titleEl.textContent = 'كتاب القراءة';            }            downloadBtn.href = bookFile;            loader.style.display = 'block';            viewer.src = `${bookFile}`;            viewer.onload = () => {                loader.style.display = 'none';            };            viewer.onerror = () => {                loader.style.display = 'none';                viewer.style.display = 'none';                errorMsg.style.display = 'block';            };        });    </script></body></html>